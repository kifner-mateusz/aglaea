(this.webpackJsonpaglaea=this.webpackJsonpaglaea||[]).push([[0],{47:function(e,t,a){e.exports=a(89)},52:function(e,t,a){},53:function(e,t,a){},54:function(e,t,a){},72:function(e,t,a){},80:function(e,t,a){},81:function(e,t,a){},82:function(e,t,a){},83:function(e,t,a){},84:function(e,t,a){},85:function(e,t,a){},86:function(e,t,a){},87:function(e,t,a){},88:function(e,t,a){},89:function(e,t,a){"use strict";a.r(t);var n=a(0),r=a.n(n),c=a(17),s=a.n(c),i=(a(52),a(53),a(54),a(21)),o=a(14),u=a(3),l=a(23),m=a(22),d=a.n(m);function p(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),a.push.apply(a,n)}return a}function f(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?arguments[t]:{};t%2?p(a,!0).forEach((function(t){Object(l.a)(e,t,a[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):p(a).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(a,t))}))}return e}var E=function(e,t){var a=e.que;switch(t.type){case"REQUEST_INIT":var n;n="undefined"===typeof t.mathod?"undefined"===typeof t.reqData?"GET":"POST":t.method;var r={id:e.idCount,status:"REQUEST_INIT",relativeUrl:t.relativeUrl,reqData:t.reqData,resData:{},isError:!1,isLoading:!1,method:n,callback:function(e){return t.callback(e)},cleanAfter:"undefined"===typeof t.cleanAfter||t.cleanAfter};return a[e.idCount]=r,{idCount:e.idCount+1,que:a};case"REQUEST_SEND":return a[t.id]=f({},a[t.id],{status:"REQUEST_SEND",isLoading:!0}),{idCount:e.idCount,que:a};case"REQUEST_SUCCESS":return a[t.id]=f({},a[t.id],{status:"REQUEST_SUCCESS",isLoading:!1,resData:t.data}),{idCount:e.idCount,que:a};case"REQUEST_ERROR":return a[t.id]=f({},a[t.id],{status:"REQUEST_ERROR",isLoading:!1,resData:t.error,isError:!0}),{idCount:e.idCount,que:a};case"REQUEST_CLEAN":return"undefined"!==typeof a[t.id]&&(a[t.id].cleanAfter?delete a[t.id]:a[t.id].status="REQUEST_END"),{idCount:e.idCount,que:a};default:return e}},h=function(e,t){var a=Object(n.useReducer)(E,{que:{},idCount:0}),r=Object(u.a)(a,2),c=r[0],s=r[1];return Object(n.useEffect)((function(){for(var a=function(){var a=r[n],i=c.que[a].id;if("REQUEST_INIT"===c.que[a].status){console.log("Axios req: "+c.que[a].relativeUrl),s({type:"REQUEST_SEND",id:i});var o=e+c.que[a].relativeUrl,u=f({},t,{url:o,method:c.que[a].method,data:c.que[a].reqData});d()(u).then((function(e){s({type:"REQUEST_SUCCESS",data:e.data,id:i})})).catch((function(e){s({type:"REQUEST_ERROR",error:e,id:i})}))}else"REQUEST_SUCCESS"===c.que[a].status?(c.que[a].callback(c.que[a].resData),s({type:"REQUEST_CLEAN",id:i})):"REQUEST_ERROR"===c.que[a].status&&(c.que[a].callback({}),s({type:"REQUEST_CLEAN",id:i}))},n=0,r=Object.keys(c.que);n<r.length;n++)a()}),[c]),[function(e,t,a,n,r){s({type:"REQUEST_INIT",relativeUrl:e,callback:function(e){t(e)},reqData:a,cleanAfter:r,method:n})},c.que]},b=a(24),g=a.n(b),v=a(27),O=a.n(v),y=a(26),j=a.n(y),C=(a(72),function(e){for(var t=Object(n.useContext)(w),a=e.price-e.sale,c=100-Math.round(a/e.price*100),s=[],o=1;o<6;o++)o<=e.rating?s.push(r.a.createElement(g.a,{key:"star-"+o})):e.rating-o>-.51?s.push(r.a.createElement(j.a,{key:"star-"+o})):s.push(r.a.createElement(O.a,{key:"star-"+o}));var u="/product/"+e.id;return r.a.createElement(i.b,{to:u,className:"item_preview_link"},r.a.createElement("article",{className:e.cssClass+" item_preview"},r.a.createElement("img",{src:t.host+e.img,alt:"",className:"img"}),r.a.createElement("h5",{className:"title"},e.title),r.a.createElement("div",{className:"subcategory"},e.subcategory),r.a.createElement("div",{className:"price"},a.toFixed(2)," ",e.price_currency),r.a.createElement("div",{className:"price_with_shipping"},(a+e.shipping).toFixed(2)," ",e.price_currency," z dostaw\u0105"),r.a.createElement("div",{className:"seller"},e.seller_login,r.a.createElement("div",{className:"rating"},s)),0!==c&&r.a.createElement("div",{className:"sale"},"-",c,"%"),0!==c&&r.a.createElement("div",{className:"sale_cut"},e.price," ",e.price_currency)))});function N(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),a.push.apply(a,n)}return a}var _="https://shop-json-test-api.herokuapp.com/",w=r.a.createContext({itemsNewIndex:[],itemsFeaturedIndex:[],itemCurrent:void 0,items:[],fetchItems:function(){},axiosConfig:{},host:_}),S=function(e,t){switch(t.type){case"set":console.log("shop data",t.data);var a=function(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?arguments[t]:{};t%2?N(a,!0).forEach((function(t){Object(l.a)(e,t,a[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):N(a).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(a,t))}))}return e}({},e),n=!0,r=!1,c=void 0;try{for(var s,i=t.data[Symbol.iterator]();!(n=(s=i.next()).done);n=!0){var o=s.value;a[o.id]=o}}catch(u){r=!0,c=u}finally{try{n||null==i.return||i.return()}finally{if(r)throw c}}return a;case"add":return e.push(t.data);case"remove":return e.fliter((function(e,a){return e.id!==parseInt(t.data)}));case"reset":return[];default:throw new Error("CartContext: action.type unknown")}},k=function(e){var t=h(_,{}),a=Object(u.a)(t,2),c=a[0],s=(a[1],Object(n.useReducer)(S,[])),i=Object(u.a)(s,2),o=i[0],l=i[1],m=Object(n.useState)([]),d=Object(u.a)(m,2),p=d[0],f=d[1],E=Object(n.useState)([]),b=Object(u.a)(E,2),g=b[0],v=b[1],O=Object(n.useState)(void 0),y=Object(u.a)(O,2),j=y[0],C=y[1];Object(n.useEffect)((function(){c("shop",(function(e){v(e["products-new"]),f(e["products-featured"])}))}),[]),Object(n.useEffect)((function(){p.length>0&&g.length>0&&N(g.concat(p).concat([j]))}),[g,p]);var N=function(e,t){var a="products?"+e.map((function(e,t){return 0===t?"id="+parseInt(e):"&id="+e})).join("");c(a,(function(e){l({type:"set",data:e})}))};return r.a.createElement(w.Provider,{value:{items:o,itemsFeaturedIndex:g,itemsNewIndex:p,fetchItems:N,getItemCurrent:function(){return o[j]},getItemsFeatured:function(e){return g.slice(0,e).map((function(e){return o[e]}))},getItemsNew:function(e){return p.slice(0,e).map((function(e){return o[e]}))},setItemCurrent:C,axiosConfig:{},host:_}},e.children)},x=a(31),R=a.n(x),I=a(43),U=function(){var e=Object(n.useState)({}),t=Object(u.a)(e,2),a=t[0],r=t[1],c=Object(n.useState)(!1),s=Object(u.a)(c,2),i=s[0],o=s[1],l=Object(n.useContext)(w),m=Object(n.useState)(),p=Object(u.a)(m,2),f=p[0],E=p[1],h=function(e){r(e),o(!1)},b=function(e){void 0!==e.response&&void 0!==e.response.data.error&&"shop failed"===e.response.data.error.message?l.singOut():r(void 0),o(!1)};return Object(n.useEffect)((function(){"function"===typeof f&&!1===i&&void 0!==a&&f(a.data)}),[i]),[function(){var e=Object(I.a)(R.a.mark((function e(t,a,n){return R.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!1!==i){e.next=10;break}if(o(!0),E((function(){return a})),!n){e.next=8;break}return e.next=6,d.a.post(l.host+t,n,l.axiosConfig).then(h,b);case 6:e.next=10;break;case 8:return e.next=10,d.a.get(l.host+t,l.axiosConfig).then(h,b);case 10:case"end":return e.stop()}}),e)})));return function(t,a,n){return e.apply(this,arguments)}}(),i,a]},q=r.a.createContext({id:"",login:"",token:"",axiosConfig:{},host:"https://shop-json-test-api.herokuapp.com/"}),T=function(e,t){switch(t.type){case"login":case"logout":case"load":return e;default:throw new Error("UserReducer: action.type unknown")}},P=function(e){var t=U(),a=Object(u.a)(t,3),c=(a[0],a[1],a[2],Object(n.useReducer)(T,{id:"",login:"",token:""})),s=Object(u.a)(c,2),i=s[0];s[1];return r.a.createElement(q.Provider,{value:{id:i.id,login:i.login,token:i.token,axiosConfig:{},host:"https://shop-json-test-api.herokuapp.com/"}},e.children)},D=r.a.createContext({cart:[],price:[],axiosConfig:{},host:"https://shop-json-test-api.herokuapp.com/"}),Q=function(e,t){switch(t.type){case"set":return t.data;case"add":return e.push(t.data);case"remove":return e.fliter((function(e,a){return e.id!==parseInt(t.data)}));case"reset":return[];default:throw new Error("CartContext: action.type unknown")}},A=function(e){var t=U(),a=Object(u.a)(t,3),c=a[0],s=(a[1],a[2],Object(n.useReducer)(Q,[])),i=Object(u.a)(s,2),o=i[0],l=i[1];return r.a.createElement(D.Provider,{value:{items:o,axiosConfig:{},fetchAllItems:function(e,t){c(e,(function(e){l({type:"set",data:e})}))},host:"https://shop-json-test-api.herokuapp.com/"}},e.children)},z=(a(80),function(e){return r.a.createElement("nav",null,r.a.createElement("button",{className:"btn-underline"},"Odzie\u017c"),r.a.createElement("button",{className:"btn-underline"},"Obuwie"),r.a.createElement("button",{className:"btn-underline"},"Akcesoria"))}),F=a(44),L=a.n(F),M=(a(81),function(e){return r.a.createElement("div",{className:"cart"},r.a.createElement("button",{className:"btn-underline"},r.a.createElement(L.a,null),"Koszyk(79.99z\u0142)"))}),W=(a(82),function(e){return r.a.createElement("header",{className:"site__header"},r.a.createElement("div",{className:"site__header-container"},r.a.createElement(z,null),r.a.createElement("h1",{className:"site__header__title"},"Aglaea"),r.a.createElement(M,null)))}),B=a(45),G=a.n(B),J=a(103),K=(a(83),function(){return r.a.createElement("div",{className:"search"},r.a.createElement("input",{type:"text",placeholder:"Szukaj...",className:"search__userInput"}),r.a.createElement("button",{className:"btn-underline search__category"},"Wszystkie kategorie"),r.a.createElement(J.a,{"aria-label":"delete",className:"search__icon"},r.a.createElement(G.a,null)))}),$=(a(84),function(e){return r.a.createElement("section",{className:e.cssClass+"_container item_container"},r.a.createElement("h4",null,e.title),e.items.map((function(t,a){return r.a.createElement(C,Object.assign({},t,{key:a,cssClass:e.cssClass}))})))}),H=(a(85),a(86),function(){return r.a.createElement("div",{className:"loader"})}),V=function(e){var t=Object(n.useContext)(w);return r.a.createElement("div",{className:"container--1200"},Object.getOwnPropertyNames(t.items).length>0?r.a.createElement(r.a.Fragment,null,r.a.createElement($,{items:t.getItemsFeatured(5),cssClass:"item_card",title:"Polecane"}),r.a.createElement($,{items:t.getItemsNew(6),cssClass:"item_box",title:"Nowe"})):r.a.createElement(H,null))},X=(a(87),function(e){for(var t=Object(n.useContext)(w),a=e.price-e.sale,c=100-Math.round(a/e.price*100),s=[],i=1;i<6;i++)i<=e.rating?s.push(r.a.createElement(g.a,{key:"star-"+i})):e.rating-i>-.51?s.push(r.a.createElement(j.a,{key:"star-"+i})):s.push(r.a.createElement(O.a,{key:"star-"+i}));return r.a.createElement("article",{className:e.cssClass+" item"},r.a.createElement("img",{src:t.host+e.img,alt:"",className:"img"}),r.a.createElement("h5",{className:"title"},e.title),r.a.createElement("div",{className:"subcategory"},e.subcategory),r.a.createElement("div",{className:"price"},a.toFixed(2)," ",e.price_currency),r.a.createElement("div",{className:"price_with_shipping"},(a+e.shipping).toFixed(2)," ",e.price_currency," z dostaw\u0105"),r.a.createElement("div",{className:"seller"},e.seller_login,r.a.createElement("div",{className:"rating"},s)),0!==c&&r.a.createElement("div",{className:"sale"},"-",c,"%"),0!==c&&r.a.createElement("div",{className:"sale_cut"},e.price," ",e.price_currency))}),Y=function(e){var t=Object(n.useContext)(w),a=e.location.pathname.split("/product/")[1];t.setItemCurrent(a);var c=t.getItemCurrent();return r.a.createElement("div",{className:"container--1200"},c&&r.a.createElement(X,Object.assign({cssClass:"item_product",isUrl:!1},c)),Object.getOwnPropertyNames(t.items).length>0&&r.a.createElement($,{items:t.getItemsNew(5),cssClass:"item_card",title:"Inne przedmioty sprzedaj\u0105cego"}))},Z=function(e){return r.a.createElement("div",{className:"container--1200"})},ee=function(){var e=h("https://shop-json-test-api.herokuapp.com/",{}),t=Object(u.a)(e,2),a=t[0],c=t[1],s=Object(n.useState)([]),i=Object(u.a)(s,2),o=i[0],l=i[1];return Object(n.useEffect)((function(){console.log("Tests"),console.log("send",a("products1",l,void 0,"GET",!1))}),[]),r.a.createElement("div",null,r.a.createElement("code",null,c.map((function(e,t){return r.a.createElement("div",{key:t},""+e)})),console.log("requests: ",c)),r.a.createElement("div",null,"test: ",o.length>0&&o[0].id))},te=(a(88),function(){return r.a.createElement("div",{className:"App"},r.a.createElement(r.a.StrictMode,null,r.a.createElement(P,null,r.a.createElement(k,null,r.a.createElement(A,null,r.a.createElement(W,null),r.a.createElement(K,null),r.a.createElement(i.a,null,r.a.createElement(o.c,null,r.a.createElement(o.a,{path:"/tests/",component:ee}),r.a.createElement(o.a,{path:"/product/",component:Y}),r.a.createElement(o.a,{path:"/category/",component:Z}),r.a.createElement(o.a,{path:"/",component:V}))))))))});Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));s.a.render(r.a.createElement(te,null),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()}))}},[[47,1,2]]]);
//# sourceMappingURL=main.a1fdc8fa.chunk.js.map