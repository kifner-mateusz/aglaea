(this.webpackJsonpaglaea=this.webpackJsonpaglaea||[]).push([[0],{46:function(e,t,a){e.exports=a(87)},51:function(e,t,a){},52:function(e,t,a){},53:function(e,t,a){},54:function(e,t,a){},55:function(e,t,a){},60:function(e,t,a){},61:function(e,t,a){},80:function(e,t,a){},81:function(e,t,a){},82:function(e,t,a){},83:function(e,t,a){},84:function(e,t,a){},87:function(e,t,a){"use strict";a.r(t);var n=a(0),c=a.n(n),r=a(17),s=a.n(r),i=(a(51),a(52),a(53),a(23)),l=a(13),o=(a(54),function(e){return c.a.createElement("nav",null,c.a.createElement("button",{className:"btn-underline"},"Odzie\u017c"),c.a.createElement("button",{className:"btn-underline"},"Obuwie"),c.a.createElement("button",{className:"btn-underline"},"Akcesoria"))}),u=a(38),m=a.n(u),f=(a(55),function(e){return c.a.createElement("div",{className:"cart"},c.a.createElement("button",{className:"btn-underline"},c.a.createElement(m.a,null),"Koszyk(79.99z\u0142)"))}),d=(a(60),function(e){return c.a.createElement("header",{className:"site__header"},c.a.createElement("div",{className:"site__header-container"},c.a.createElement(o,null),c.a.createElement("h1",{className:"site__header__title"},"Aglaea"),c.a.createElement(f,null)))}),p=a(39),h=a.n(p),E=a(101),b=(a(61),function(){return c.a.createElement("div",{className:"search"},c.a.createElement("input",{type:"text",placeholder:"Szukaj...",className:"search__userInput"}),c.a.createElement("button",{className:"btn-underline search__category"},"Wszystkie kategorie"),c.a.createElement(E.a,{"aria-label":"delete",className:"search__icon"},c.a.createElement(h.a,null)))}),g=a(41),v=a.n(g),N=a(43),_=a.n(N),j=a(42),x=a.n(j),O=a(15),y=a(24),k=a.n(y),w=a(40),C=a(25),A=a.n(C),z=function(){var e=Object(n.useState)({}),t=Object(O.a)(e,2),a=t[0],c=t[1],r=Object(n.useState)(!0),s=Object(O.a)(r,2),i=s[0],l=s[1],o=Object(n.useContext)(I),u=Object(n.useState)(),m=Object(O.a)(u,2),f=m[0],d=m[1],p=function(e){console.log("Axios res:",e),c(e),l(!1)},h=function(e){console.log("Axios err:",e),void 0!==e.response&&"shop failed"===e.response.data.error.message?o.singOut():c(void 0),l(!1)};return Object(n.useEffect)((function(){"function"===typeof f&&!1===i&&void 0!==a&&f(a.data)}),[i]),[function(){var e=Object(w.a)(k.a.mark((function e(t,a,n){return k.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(l(!0),d((function(){return a})),console.log("req to "+t),!n){e.next=8;break}return e.next=6,A.a.post(o.host+t,n,o.axiosConfig).then(p,h);case 6:e.next=10;break;case 8:return e.next=10,A.a.get(o.host+t,o.axiosConfig).then(p,h);case 10:case"end":return e.stop()}}),e)})));return function(t,a,n){return e.apply(this,arguments)}}(),i,a]},I=c.a.createContext({items:{},axiosConfig:{},host:"http://shop-json-test-api.herokuapp.com/",getItems:function(){}}),S=function(e,t){var a=t.data;switch(t.type){case"set":return a;case"add":return e.push(a);case"remove":return e.fliter((function(e,t){return e.id!=a}));case"reset":return[]}},F=function(e){var t=z(),a=Object(O.a)(t,4),r=a[0],s=(a[1],a[2],a[3],Object(n.useReducer)(S,[])),i=Object(O.a)(s,2),l=i[0],o=i[1];return c.a.createElement(I.Provider,{value:{items:l,axiosConfig:{},fetchAllItems:function(e,t){r(e,(function(e){o({type:"set",data:e})}))},host:"http://shop-json-test-api.herokuapp.com/"}},e.children)},W=(a(80),function(e){for(var t=Object(n.useContext)(I),a=e.price-e.sale,r=100-Math.round(a/e.price*100),s=[],i=1;i<6;i++)i<=e.rating?s.push(c.a.createElement(v.a,{key:"star-"+i})):e.rating-i>-.51?s.push(c.a.createElement(x.a,{key:"star-"+i})):s.push(c.a.createElement(_.a,{key:"star-"+i}));return c.a.createElement("article",{className:e.class+" item_preview"},c.a.createElement("img",{src:t.host+e.img,alt:"",className:"img"}),c.a.createElement("h5",{className:"title"},e.title),c.a.createElement("div",{className:"subcategory"},e.subcategory),c.a.createElement("div",{className:"price"},a.toFixed(2)," ",e.price_currency),c.a.createElement("div",{className:"price_with_shipping"},(a+e.shipping).toFixed(2)," ",e.price_currency," z dostaw\u0105"),c.a.createElement("div",{className:"seller"},e.seller_login,c.a.createElement("div",{className:"rating"},s)),0!=r&&c.a.createElement("div",{className:"sale"},"-",r,"%"),0!=r&&c.a.createElement("div",{className:"sale_cut"},e.price," ",e.price_currency))}),B=(a(81),function(e){return c.a.createElement("section",{className:e.class+"_container item_container"},c.a.createElement("h4",null,e.title),e.items.map((function(t,a){return c.a.createElement(W,Object.assign({},t,{key:a,class:e.class}))})))}),J=(a(82),a(83),function(){return c.a.createElement("div",{className:"loader"})}),P=function(e){var t=Object(n.useContext)(I);return Object(n.useEffect)((function(){t.fetchAllItems("products/")}),[]),Object(n.useEffect)((function(){console.log(t),void 0!==t.items&&t.items.length}),[t.items]),c.a.createElement("div",{className:"main"},c.a.createElement(b,null),void 0!==t.items&&t.items.length>0?c.a.createElement(c.a.Fragment,null,c.a.createElement(B,{items:t.items.filter((function(e,t){return t<4||7==t})),class:"item_card",title:"Polecane"}),c.a.createElement(B,{items:t.items.filter((function(e,t){return t>1&&t<8})),class:"item_box",title:"Nowe"})):c.a.createElement(J,null))},q=(a(84),function(){return c.a.createElement("div",{className:"App"},c.a.createElement(F,null,c.a.createElement(d,null),c.a.createElement(i.a,null,c.a.createElement(l.c,null,c.a.createElement(l.a,{path:"/",component:P})))))});Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));s.a.render(c.a.createElement(q,null),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()}))}},[[46,1,2]]]);
//# sourceMappingURL=main.79c02081.chunk.js.map